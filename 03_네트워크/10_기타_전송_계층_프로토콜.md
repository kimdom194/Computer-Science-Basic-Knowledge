- ### UDP

  - UDP의 특징
    - 비연결형 서비스를 제공
    - 헤더와 전송 데이터에 대한 체크섬 기능을 제공
    - Best Effort 전달 방식을 지원
    - 전송한 데이터가 제대로 도착했는지 확인을 하지 않음 -> 신뢰성이 상대적으로 낮음
    - 데이터 처리가 빠르므로 데이터 전송시간에 민감한 환경에서는 유리
  - UDP의 데이터 전송
    - 비연결형 서비스
      - 각 데이터그램이 독립적으로 전송되고, 독립적으로 중개
        - 도착 순서가 바뀌어 도착할 수 있음
      - 흐름제어가 없으므로 버퍼 오버플로우에 의한 데이터 분실 가능성
      - 응용에서 순서번호와 유사한 기능을 구현해야 할 필요성

  

- ### RTP

  - 멀티미디어 서비스 환경의 변화
    - 기존 : 비디오, 오디오 파일 전체를 다운받은 후 서비스
    - 실시간 스트리밍 서비스 등장
      - 데이터 변형/분실 오류를 복구하는 기능이 상대적으로 덜 중요
      - 도착 순서, 패킷의 지연 간격, 데이터 압축 등이 중요
      - TCP
        - 패킷의 순서와 신뢰성이 지나치게 강조
        - 패킷 재전송 기능과 복잡한 흐름제어로 부적합
      - UDP
        - 기능이 단순하여 빠른 전송 가능
        - 순서를 보장하지 못함
      - 가장 현실적인 대안은 UDP에 순서번호 기능을 추가하는 것
        - RTP(Real Time Protocol)
  - RTP의 특징
    - 데이터 순서 정렬을 위해 타임스탬프(time stamp) 방식 사용
    -  프로토콜 동작이 응용프로그램의 라이브러리 형태로 구현되는 ALF(Application Level Function) 사용으로 응용마다 별도로 버퍼 크기 조절 및 관리 가능
    - 실시간 응용 서비스에 유용
      - 자원 예약이나 QoS 보장 기능이 없어서 실시간 동영상 서비스 제공에는 부족
  - 실시간 요구 사항
    - 일반 데이터 서비스 환경
      - 파일 전송, 전자 메일 등
      - 신뢰성이 중요
      - 성능과 지연 문제는 덜 중요
    - 실시간 데이터 서비스 환경
      - 정해진 시간 내에 도착하는지의 여부가 중요
        - 특정 시간 내에 도착하지 못하면 무용지물
      - 신뢰성은 덜 중요
  - 버퍼의 역할
    - 시간 간격이 가변적인 데이터를 즉시 전송하지 않고 지연 버퍼를 사용하여 간격을 일정하게 보정
      - 제한시간을 넘기는 경우 폐기
    - 지연(Latency)
      - 송신 프로세스에서 전송한 데이터의 출발시간과 수신 프로세스에 도착한 시간의 차이
      - 대역폭, 네트워크 구조, 라우팅 방식, 전송 프로토콜 종류 등에 영향
  - 지터(Jitter)
    - 데이터그램의 도착 지연 시간의 분포
      - 도착시간이 일정하지 않고 불규칙적으로 도착하는 정도
  - RTP의 데이터 전송 프로토콜
    - RTP의 동작 원리
      - 작고 빠른 전송 기능을 지원하는 UDP 프로토콜 위에서 구현
      - 데이터그램 분실이나 도착 순서 변경 등의 오류는 RTP에서 해결
      - 포트주소 기능을 이용하여 송수신 프로세스간 연결 관리
      - 프로그램 하나를 단위로 하지 않고, 일부 기능이 개별적으로 구현됨
      - 응용서비스의 종류에 따라 요구 조건이 다른 기능들이 추가되는 형식
      - 다수의 사용자가 하나의 세션을 사용하여 실시간 데이터 전송 가능
    - 두 종류의 RTP 릴레이(Relay) 지원
      - 릴레이 : 데이터 전송 과정에서 송수신 프로세스가 직접 데이터를 전송할 수 없는 상황에서 데이터를 중개하는 기능
        - 예: 방화벽 사용, 데이터 형식 상이
    - 믹서
      - 여러 송신 프로세스의 데이터그램을 적절히 조합하여 새로운 데이터그램 생성
      - 믹싱 과정에서 데이터그램 스트림에 대한 시간 정보 제공
    - 트랜슬레이터
      - 입력된 각 RTP 데이터그램을 하나 이상의 출력용 데이터그램으로 만들어 줌 (데이터 형식 변화 가능)
      - 예: 고해상도의 비디오 신호를 저해상도로 변환, 멀티캐스트 RTP 데이터그램을 복사하여 다수의 유니캐스트 수신 프로세스에게 전송
  - RTP 제어 프로토콜
    - RTCP(RTP Control Protocol)
    - 제어와 관련된 기능 수행
    - UDP를 하부 계층으로 사용
    - 세션 참가자는 다른 멤버에게 RTCP 패킷을 주기적으로 전송
    - 주요 기능
      - QoS와 혼잡 제어
        - 데이터 분배 과정에서 발생하는 서비스 품질에 관한 피드백 기능을 지원
        - 멀티캐스팅 과정에서의 송수신 짆ㅇ 여부 판단을 위한 보고서 작성
          - 송신 프로세스의 전송률, 수신 프로세스의 패킷 분실, 지터 등
      - Identification
        - RTCP 패킷에는 RTCP 송신 프로세스에 관한 정보가 포함됨
      - 세션 크기
        - 세션 참가자가 증가할 수록 RTP 데이터 전송률 감소
        - RTCP 데이터그램의 최대 전송률은 5초당 1 데이타그램
      - 세션 제어: 최소한의 세션 제어 정보를 옵션으로 제공
    - RTCP 데이터그램 종류
      - SR(Sender Report)
      - RR(Receiver Report)
        - 데이터 전송 품질 피드백
      - SDES(Source Description)
        - 송신 프로세스가 자세한 정보 제공
      - BYE(Goodbye)
        - 송신 프로세스가 더 이상 존재하지 않음
        - 수신 프로세스가 무한정 기다리지 않게 함
      - Application Defined Packet
        - 응용 환경에 따른 기능 점검 용도



- ### OSI TP 개요

  - 서비스 클래스
    - 클래스 0: 기본 기능
    - 클래스 1: 기본 오류 복구 기능
    - 클래스 2: 멀티플렉싱
    - 클래스 3: 오류 복구, 멀티플렉싱
    - 클래스 4: 오류 검출, 오류 복구, 멀티플렉싱
  - 클래스 0과 1은 단일 포트 지원용도
  - 클래스 2, 3, 4는 멀티플렉싱 기능 **포함**